Файл графических ресурсов WMCC.MCC игры LEGACY устроен так:
+0000 DD*5017 смещения заголовков картинок в файле
+4E64 ... заголовки картинок
+???? ... тела картинок
Строки имен картинок хранятся отдельно в файле MCC.
Заголовок картинки устроен так:
+00 DD смещение тела картинки в ресурсе
+04 DW ? (кажется, ни на что не влияет)
+06 DW ширина картинки
+08 DW высота картинки
+0A DW число бит на пиксел (4 или 8)
+0C DW длина в байтах строки картинки в файле
+0E DW размер тела картинки в байтах после распаковки (w[+8]*w[+C])
+10 DW сдвиг слева? (в одном случае = -1)
+12 DW сдвиг сверху? ( в нескольких случаях <0 или > 4000h)
+14 DW число элементов палитры
+16 DB*4 RGB-компоненты 1-го элемента палитры, сдвинутые на 2 влево, и нулевой
         байт
+1A ... так же для остальных элементов палитры
Тело картинки устроено по одному из 4 типов:
либо несжатая 8 bpp:
+0 DW 0
+2 DB*? данные картинки: 4-interlaced битмап, расположенный по строкам,
        0 - прозрачный цвет; цвета пикселов относятся к палитре в заголовке,
        считая с 0
либо несжатая 4 bpp:
+0 DW 0
+2 DB*? данные картинки: простой битмап, расположенный по строкам, в каждом
        байте первый пиксел в 4 старших битах, второй в 4 младших; 0 -
        прозрачный цвет; цвета пикселов относятся к палитре в заголовке, считая
        с 0
либо со сжатием прозрачности 8 bpp:
+0 DW число пар блоков копирования-пропуска(>0)
+2 DW число точек 1-го блока копирования
+4 DW число точек 1-го блока пропуска
+6 ... так же для остальных пар
+? DB*? данные картинки(точки блоков копирования, расположенные подряд)
Распакованные таким образом данные также составляют 4-interlaced битмап, разме-
щенный по строкам, 0 - похоже, по-прежнему прозрачный цвет.
(А файл #39 в ресурсе, похоже, запихан туда как non-interlaced).
либо со сжатием прозрачности 4 bpp:
+0 DW число пар блоков копирования-пропуска(>0)
+2 DW число байт (_пар_ точек) 1-го блока копирования
+4 DW число _пар_ точек 1-го блока пропуска
+6 ... так же для остальных пар
+? DB*? данные картинки(байты блоков копирования, расположенные подряд)
Распакованные данные составляют простой битмап, расположенный по строкам, в
каждом байте 1-й пиксел в старших 4 битах, 2-й - в младших 4; 0 - прозрачный
цвет. Следует отметить, что для блоков, пересекающих границу строки нечетной
длины, оставшаяся от последней пары одна точка каждый раз отбрасывается.
Кстати - хотя видеорежим игрушки 360*240, но среди картинок нет ни одной больше
чем 320*200.

Только и всего...