Файл графики .MDA игры SPELLJAMMER состоит из заголовка, базовой страницы и
набора дополнительных страниц изображения. Заголовок файла устроен так:
+00 DB 'TWDL' (идентификатор формата)
+04 DW ширина базовой страницы
+06 DW высота базовой страницы
+08 DW число страниц изображения, считая базовую
+0A DW ? (какие-то флаги?)
+0C DD смещение в файле базовой страницы
+10 DD*? смещения в файле дополнительных страниц
+? ... базовая и дополнительные страницы
Базовая страница изображения представляет собой простой битмап, сжатый RLE-
методом, применяемым для PCX-файлов:
блок заполнения: DB 11xxxxxx / DB цвет, по нему (xxxxxx) точек закрашиваются
 этим цветом;
иначе байт просто копируется на экран.
Дополнительные страницы изображения отрисовываются каждая очередная поверх
предыдущей (первая - поверх базовой). Они состоят из блоков.
Блоки устроены так:
длинный блок копирования:
+0 DB 0
+1 DW сдвиг блока слева
+3 DW сдвиг блока сверху
+5 DW число байт изображения в блоке
+7 DB*? байты изображения, сжатые PCX-методом
длинный блок заполнения:
+0 DB 1
+1 DW сдвиг блока слева
+3 DW сдвиг блока сверху
+5 DW число байт изображения в блоке
+7 DB цвет
короткий блок копирования:
+0 DB 2
+1 DB сдвиг блока слева
+2 DB сдвиг блока сверху
+3 DB число байт изображения в блоке
+4 DB*? байты изображения, сжатые PCX-методом
короткий блок заполнения:
+0 DB 3
+1 DB сдвиг блока слева
+2 DB сдвиг блока сверху
+3 DB число байт изображения в блоке
+4 DB цвет
концевик:
+0 DB FF

Только и всего...