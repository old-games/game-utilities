Файлы ресурсов *.LBX игр MASTER OF ORION и MASTER OF MAGIC устроены так:
+000 DW число ресурсов в файле
+002 DW 0FEADh, 0 (идентификатор)
+006 DW тип файла
+008 DD смещение в файле 1-го ресурса
+00C ...
+??? DD размер файла
+200 DB описатели ресурсов (блоки по 32 байта, могут не присутствовать)
+??? ...
Ресурсы разделяются на графические, звуковые и прочие.
Графический ресурс устроен так:
+00 DW   ширина картинок (0<X<=320)
+02 DW   высота картинок (0<Y<=200)
+04 DW   0
+06 DW   число картинок в теле ресурса (N>0)
+08 DW   неизвестно что
+0A DW   0
+0C DW   0
+0E DW   смещение в теле ресурса описателя палитры, или 0 если его нет
+10 DW   флаги: бит 0=0 - каждая следующая картинка рисуется поверх предыдущей
                биты 1-7 всегда 0
                бит 8 - неизвестно что
                биты 9-15 всегда 0
+12 DD*N для каждой картинки ее смещение в теле ресурса
+?? DD   размер ресурса
+?? ...  описатель палитры, если он есть
+?? ...  собственно картинки
Описатель палитры устроен так:
+0 DW смещение таблицы цветов в теле ресурса
+2 DW начальный цвет в таблице
+4 DW число цветов в таблице
+6 DW неизвестно что (обычно 0)
+8 DB*3*? собственно таблица цветов (RGB-компоненты)
Картинки состоят из мусорного байта (равен 1 или 0, но нигде не используется) и
набора блоков, распаковывающихся по _столбцам_. Блоки устроены так:
блок пропуска столбца:
+0 DB 0FFh
блок простого копирования:
+0 DW длина тела блока (L<8000h)
+2 DB число копируемых точек (=N)                        ─┐
+3 DB число пропускаемых перед копированием точек (строк) │ может повторяться
+4 DB*N сами копируемые точки                            ─┘ в теле блока
блок копирования со сжатием:
+0 DW длина тела блока (L<8000h) + 8000h
+2 DB длина пакованных данных (=N)               ─┐
+3 DB число пропускаемых перед ними точек (строк) │ может повторяться
+4 DB*N сами пакованные данные                   ─┘ в теле блока
Пакованные данные здесь представляют собой последовательность точек, сжатую
RLE-методом:
блок заполнения: DB 111xxxxx / DB цвет, по нему выводятся (xxxxx+1) точек
данного цвета;
иначе байт выводится как одна точка.
Звуковой ресурс устроен так:
+00 DW   0DEAFh (идентификатор)
+02 DW   тип (1 - .MID-файл, 2 - .VOC-файл)
+04 DW*6 0
+10 ...  собственно звуковой файл соответствующего формата
К прочим ресурсам можно отнести ресурсы, не соответствующие формату ни
графических, ни звуковых ресурсов. Среди них интерес представляют лишь ресурсы,
содержащие палитры игры, на что указывается в соответствующих им описателях,
и ресурсы, содержащие элементы карты в виде массива простых битмапов.

Только и всего...
