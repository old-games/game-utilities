Файл графики .ULI игры REALMS OF ARKANIA 1: BLADE OF DESTINY устроен так:
+00 DB*1Ch заголовок: '(c) 1991 by Ulrich Walther',26,0
+1C ... тело файла
Тело файла сжато блочным RLE-методом:
блок копирования:
+0 DB 0xxxxxxx, X>0
+1 DB (xxxxxxx) байт, по нему они копируются в буфер
блок заполнения:
+0 DB 1xxxxxxx
+1 DB байт , по нему этим байтом заполняются (xxxxxxx) байт в буфере
концевик:
+0 DB 0 , по нему распаковка прекращается
Распакованное тело файла устроено так:
+0 DW ширина-1 (всегда 319)
+2 DW высота-1 (всегда 199)
+4 DB число цветов в картинке (=N)
+5 DB*N*3 палитра
+? ... тело картинки
Тело картинки при 2,при 3-4 и при 5-16 цветах представляет собой битовый поток
с 1,2 или 4 битами на точку соответственно.Выборка битов идет со старших битов
и с младших адресов.При 16-255 цветах тело картинки не сжато.
Окончательно распакованная картинка представляет собой простой битмап, 0 -
прозрачный цвет.

Только и всего...