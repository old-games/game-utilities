Файл графических ресурсов RAVDATA.DAT игры SHADOWCASTER устроен так:
+0 DW число элементов директории
+2 DD смещение директории в файле
+4 DD размер директории
+8 ... (1-й ресурс)
Элемент директории устроен так:
+0 DD смещение ресурса в файле
+4 DD размер ресурса
+8 DD смещение от начала директории ASCIIZ-строки - имени ресурса, или 0 если
      ресурс не имеет имени
Строки имен ресурсов располагаются в директории после последнего ее элемента.
Ресурсы-картинки, содержащиеся в файле ресурсов, подразделяются на 4 типа.
Ресурс первого типа устроен так:
+0 DW число столбцов в картинке
+2 DW число строк в картинке
+4 DW ? (возможно, X-координата точки вставки) (обычно 0)
+6 DW ? (возможно, Y-координата точки вставки) (обычно 0)
+8 DB*? тело ресурса
Тело ресурса этого типа - простой битмап, хранящийся по строкам; 0 может быть
прозрачным цветом.
Признак ресурса этого типа - его размер равен (w[+0]*w[+2]+8).
Ресурс второго типа устроен так:
+0 DW ? (смещение точки вставки снизу?)
+2 DW число столбцов в картинке
+4 DW*? смещения столбцов от начала ресурса, или 0 если столбец пустой
Столбец устроен так:
+0 DB Y-координата верхней точки столбца, отсчитываемая от _нижней_ строки
      картинки
+1 DB Y-координата нижней точки столбца, отсчитываемая от _нижней_ строки
      картинки (пропуск снизу)
+2 DB*? столбец точек ((b[+0]-b[+1]+1) штук), 0 - прозрачный цвет
Признак ресурса этого типа - w[+4]=w[+2]*2+4.
Ресурс третьего типа - текстура для пола. Это простой битмап 64*64, хранящийся
по строкам.
Признак ресурса этого типа - его размер равен 4096 байт.
Ресурс четвертого типа - текстура для стены. Он устроен так:
+0   DW высота/4
+2   DW*64 ? (смещения точек столбцов, лежащих на некоей нулевой линии?)
+82h DB*? тело ресурса
Тело ресурса этого типа - простой битмап, хранящийся по _столбцам_, содержащий
64 столбца; 0 может быть прозрачным цветом.
Признак ресурса этого типа - его размер равен (w[+0]*256+130).
Кроме этого, в файле содержится некоторое число ресурсов, не являющихся
картинками - в частности палитра, имеющая имя PALETTE и размер 768 байт.
Только и всего...
